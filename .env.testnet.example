# near-forms TESTNET Environment
# Copy this file to .env.testnet and fill in values
#
# Usage:
#   cp .env.testnet.example .env.testnet
#   docker-compose -f docker-compose.testnet.yml --env-file .env.testnet up -d

# ============================================================
# Database Configuration
# ============================================================
POSTGRES_PASSWORD=testnet_password_change_me

# ============================================================
# Shared Configuration (db-api, web-ui, WASI module)
# ============================================================

# Fixed form ID (UUID, must match hardcoded FORM_ID in db-api and WASI module)
FORM_ID=daf14a0c-20f7-4199-a07b-c6456d53ef2d

# Form creator's NEAR account ID (testnet)
FORM_CREATOR_ID=your-account.testnet

# Shared API secret for authenticating db-api requests
API_SECRET=your-shared-api-secret-change-me

# ============================================================
# Form Configuration (db-api)
# ============================================================
# Title displayed on the form
FORM_TITLE=My NEAR Form

# ============================================================
# Web UI Configuration
# ============================================================
NEXT_PUBLIC_NETWORK_ID=testnet
NEXT_PUBLIC_PROJECT_ID=your-account.testnet/near-forms
NEXT_PUBLIC_OUTLAYER_CONTRACT=outlayer.testnet
NEXT_PUBLIC_DATABASE_API_URL=http://localhost:4001
# NEXT_PUBLIC_FORM_ID is automatically set to FORM_ID via docker-compose
# Master PUBLIC key for client-side encryption (66 hex chars, compressed secp256k1, starts with 02 or 03)
# Derive from PROTECTED_MASTER_KEY: use secp256k1 to compute the corresponding public key
NEXT_PUBLIC_MASTER_PUBLIC_KEY=
# Required when NEXT_PUBLIC_USE_SECRETS=true (account that owns your OutLayer secrets)
NEXT_PUBLIC_SECRETS_ACCOUNT_ID=your-account.testnet
NEXT_PUBLIC_SECRETS_PROFILE=default
NEXT_PUBLIC_USE_SECRETS=true

# ============================================================
# OutLayer WASI Module Secrets (set in dashboard)
# ============================================================
# Add these as secrets in OutLayer dashboard for project "near-forms-testnet":
#
# | Secret Name            | Type           | Value                    |
# |------------------------|----------------|--------------------------|
# | PROTECTED_MASTER_KEY   | Hex 32 bytes   | (generate in dashboard)  |
# | DATABASE_API_URL       | Manual         | http://db-api:4001       |
# | DATABASE_API_SECRET    | Manual         | (same as API_SECRET)     |
# | FORM_CREATOR_ID        | Manual         | (same as FORM_CREATOR_ID above) |
#
# Note: These are NOT set in .env â€” they're secrets stored securely in OutLayer
